/*! For license information please see photos-src_mixins_FetchAlbumsMixin_js-node_modules_vue-material-design-icons_Plus_vue-src_components-b06a7d.js.LICENSE.txt */
"use strict";(self.webpackChunkphotos=self.webpackChunkphotos||[]).push([["src_mixins_FetchAlbumsMixin_js-node_modules_vue-material-design-icons_Plus_vue-src_components-b06a7d"],{12945:(n,a,o)=>{o.d(a,{Z:()=>h});var e=o(20629),r=o(80351),i=o.n(r),l=o(82880),s=o(45994),c=o(81067),u=o(59537),p=o(94236);function m(n){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},m(n)}function A(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.push.apply(a,o)}return a}function d(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){b(n,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))}))}return n}function b(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function g(n,t,a,o,e,r,i){try{var l=n[r](i),s=l.value}catch(n){return void a(n)}l.done?t(s):Promise.resolve(s).then(o,e)}function f(n){return function(){var t=this,a=arguments;return new Promise((function(o,e){var r=n.apply(t,a);function i(n){g(r,o,e,i,l,"next",n)}function l(n){g(r,o,e,i,l,"throw",n)}i(void 0)}))}}const h={name:"FetchAlbumsMixin",data:function(){return{errorFetchingAlbums:null,loadingAlbums:!1}},mixins:[o(69363).Z],beforeMount:function(){var n=this;return f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.fetchAlbums();case 1:case"end":return t.stop()}}),t)})))()},computed:d({},(0,e.Se)(["albums"])),methods:{fetchAlbums:function(){var n=this;return f(regeneratorRuntime.mark((function a(){var o,e,r,A;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.loadingAlbums){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,n.loadingAlbums=!0,n.errorFetchingAlbums=null,a.next=7,c.ZP.getDirectoryContents("/photos/".concat(null===(o=(0,s.ts)())||void 0===o?void 0:o.uid,"/albums"),{data:'<?xml version="1.0"?>\n\t\t\t\t\t\t\t<d:propfind xmlns:d="DAV:"\n\t\t\t\t\t\t\t\txmlns:oc="http://owncloud.org/ns"\n\t\t\t\t\t\t\t\txmlns:nc="http://nextcloud.org/ns"\n\t\t\t\t\t\t\t\txmlns:ocs="http://open-collaboration-services.org/ns">\n\t\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t\t<nc:last-photo />\n\t\t\t\t\t\t\t\t\t<nc:nbItems />\n\t\t\t\t\t\t\t\t\t<nc:location />\n\t\t\t\t\t\t\t\t\t<nc:dateRange />\n\t\t\t\t\t\t\t\t\t<nc:collaborators />\n\t\t\t\t\t\t\t\t\t<nc:publicLink />\n\t\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t</d:propfind>',details:!0,signal:n.abortController.signal});case 7:e=a.sent,r=e.data.filter((function(n){var t;return n.filename!=="/photos/".concat(null===(t=(0,s.ts)())||void 0===t?void 0:t.uid,"/albums")})).map((function(n){return""===n.props.collaborators?n.props.collaborators=[]:"object"===m(n.props.collaborators.collaborator)&&(Array.isArray(n.props.collaborators.collaborator)?n.props.collaborators=n.props.collaborators.collaborator:n.props.collaborators=[n.props.collaborators.collaborator]),n})).map((function(n){return(0,p.AX)(n)})).map((function(t){var a,o,e=JSON.parse(null!==(a=null===(o=t.dateRange)||void 0===o?void 0:o.replace(/&quot;/g,'"'))&&void 0!==a?a:"{}");null===e.start&&(e.start=i()().unix(),e.end=i()().unix());var r={startDate:i().unix(e.start).format("MMMM YYYY"),endDate:i().unix(e.end).format("MMMM YYYY")};return d(d({},t),{},r.startDate===r.endDate?{date:r.startDate}:{date:n.t("photos","{startDate} to {endDate}",r)})})),n.$store.dispatch("addAlbums",{albums:r}),u.Z.debug("[FetchAlbumsMixin] Fetched ".concat(r.length," new files: "),r),a.next=26;break;case 13:if(a.prev=13,a.t0=a.catch(2),404!==(null===(A=a.t0.response)||void 0===A?void 0:A.status)){a.next=19;break}n.errorFetchingAlbums=404,a.next=24;break;case 19:if("ERR_CANCELED"!==a.t0.code){a.next=23;break}return a.abrupt("return");case 23:n.errorFetchingAlbums=a.t0;case 24:u.Z.error(t("photos","Failed to fetch albums list."),a.t0),(0,l.showError)(t("photos","Failed to fetch albums list."));case 26:return a.prev=26,n.loadingAlbums=!1,a.finish(26);case 29:case"end":return a.stop()}}),a,null,[[2,13,26,29]])})))()}}}},62116:(n,t,a)=>{a.d(t,{Z:()=>l});var o=a(87537),e=a.n(o),r=a(23645),i=a.n(r)()(e());i.push([n.id,".album-form[data-v-5bc188a2]{display:flex;flex-direction:column;height:350px;padding:16px}.album-form .form-title[data-v-5bc188a2]{font-weight:bold}.album-form .form-subtitle[data-v-5bc188a2]{color:var(--color-text-lighter)}.album-form .form-inputs[data-v-5bc188a2]{flex-grow:1;justify-items:flex-end}.album-form .form-inputs input[data-v-5bc188a2]{width:100%}.album-form .form-inputs label[data-v-5bc188a2]{display:flex;margin-top:16px}.album-form .form-inputs label[data-v-5bc188a2]  svg{margin-right:12px}.album-form .form-buttons[data-v-5bc188a2]{display:flex;justify-content:space-between}.album-form .form-buttons .left-buttons[data-v-5bc188a2],.album-form .form-buttons .right-buttons[data-v-5bc188a2]{display:flex}.album-form .form-buttons .right-buttons[data-v-5bc188a2]{justify-content:flex-end}.album-form .form-buttons button[data-v-5bc188a2]{margin-right:16px}.left-buttons[data-v-5bc188a2]{flex-grow:1}","",{version:3,sources:["webpack://./src/components/Albums/AlbumForm.vue"],names:[],mappings:"AAoPA,6BACC,YAAA,CACA,qBAAA,CACA,YAAA,CACA,YAAA,CAEA,yCACC,gBAAA,CAGD,4CACC,+BAAA,CAGD,0CACC,WAAA,CACA,sBAAA,CAEA,gDACC,UAAA,CAGD,gDACC,YAAA,CACA,eAAA,CAEA,qDACC,iBAAA,CAKH,2CACC,YAAA,CACA,6BAAA,CAEA,mHACC,YAAA,CAGD,0DACC,wBAAA,CAGD,kDACC,iBAAA,CAKH,+BACC,WAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.album-form {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 350px;\n\tpadding: 16px;\n\n\t.form-title {\n\t\tfont-weight: bold;\n\t}\n\n\t.form-subtitle {\n\t\tcolor: var(--color-text-lighter);\n\t}\n\n\t.form-inputs {\n\t\tflex-grow: 1;\n\t\tjustify-items: flex-end;\n\n\t\tinput {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\tlabel {\n\t\t\tdisplay: flex;\n\t\t\tmargin-top: 16px;\n\n\t\t\t::v-deep svg {\n\t\t\t\tmargin-right: 12px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.form-buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\n\t\t.left-buttons, .right-buttons {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.right-buttons {\n\t\t\tjustify-content: flex-end;\n\t\t}\n\n\t\tbutton {\n\t\t\tmargin-right: 16px;\n\t\t}\n\t}\n}\n\n.left-buttons {\n\tflex-grow: 1;\n}\n'],sourceRoot:""}]);const l=i},11893:(n,t,a)=>{a.d(t,{Z:()=>l});var o=a(87537),e=a.n(o),r=a(23645),i=a.n(r)()(e());i.push([n.id,".manage-collaborators[data-v-ad086a20]{display:flex;flex-direction:column;padding:20px;height:500px}.manage-collaborators__title[data-v-ad086a20]{font-weight:bold}.manage-collaborators__subtitle[data-v-ad086a20]{color:var(--color-text-lighter)}.manage-collaborators__public-link-button[data-v-ad086a20]{margin:4px 0}.manage-collaborators__form[data-v-ad086a20]{margin-top:4px 0;display:flex;flex-direction:column}.manage-collaborators__form__input[data-v-ad086a20]{position:relative;display:block}.manage-collaborators__form__input input[data-v-ad086a20]{width:100%;padding-left:34px}.manage-collaborators__form__input .loading-icon[data-v-ad086a20]{position:absolute;top:8px;right:8px}.manage-collaborators__form__list[data-v-ad086a20]{padding:8px;height:500px;overflow:scroll}.manage-collaborators__form__list__result[data-v-ad086a20]{padding:8px;border-radius:100px;box-sizing:border-box}.manage-collaborators__form__list__result[data-v-ad086a20],.manage-collaborators__form__list__result *[data-v-ad086a20]{cursor:pointer !important}.manage-collaborators__form__list__result[data-v-ad086a20]:hover{background:var(--color-background-dark)}.manage-collaborators__form__list--empty[data-v-ad086a20]{margin:100px 0}.manage-collaborators__selection[data-v-ad086a20]{display:flex;flex-direction:column;margin-top:8px;flex-grow:1}.manage-collaborators__selection__item[data-v-ad086a20]{border-radius:var(--border-radius-pill);padding:0 8px}.manage-collaborators__selection__item[data-v-ad086a20]:hover{background:var(--color-background-dark)}.manage-collaborators .actions[data-v-ad086a20]{display:flex;margin-top:8px}.manage-collaborators .actions__public-link[data-v-ad086a20]{display:flex;align-items:center}.manage-collaborators .actions__slot[data-v-ad086a20]{flex-grow:1;display:flex;justify-content:flex-end;align-items:center}","",{version:3,sources:["webpack://./src/components/Albums/CollaboratorsSelectionForm.vue"],names:[],mappings:"AAyTA,uCACC,YAAA,CACA,qBAAA,CACA,YAAA,CACA,YAAA,CAEA,8CACC,gBAAA,CAGD,iDACC,+BAAA,CAGD,2DACC,YAAA,CAGD,6CACC,gBAAA,CACA,YAAA,CACA,qBAAA,CAEA,oDACC,iBAAA,CACA,aAAA,CAEA,0DACC,UAAA,CACA,iBAAA,CAGD,kEACC,iBAAA,CACA,OAAA,CACA,SAAA,CAIF,mDACC,WAAA,CACA,YAAA,CACA,eAAA,CACA,2DACC,WAAA,CACA,mBAAA,CACA,qBAAA,CAEA,wHACC,yBAAA,CAGD,iEACC,uCAAA,CAIF,0DACC,cAAA,CAKH,kDACC,YAAA,CACA,qBAAA,CACA,cAAA,CACA,WAAA,CAEA,wDACC,uCAAA,CACA,aAAA,CAEA,8DACC,uCAAA,CAKH,gDACC,YAAA,CACA,cAAA,CAEA,6DACC,YAAA,CACA,kBAAA,CAGD,sDACC,WAAA,CACA,YAAA,CACA,wBAAA,CACA,kBAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.manage-collaborators {\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 20px;\n\theight: 500px;\n\n\t&__title {\n\t\tfont-weight: bold;\n\t}\n\n\t&__subtitle {\n\t\tcolor: var(--color-text-lighter);\n\t}\n\n\t&__public-link-button {\n\t\tmargin: 4px 0;\n\t}\n\n\t&__form {\n\t\tmargin-top: 4px 0;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&__input {\n\t\t\tposition: relative;\n\t\t\tdisplay: block;\n\n\t\t\tinput {\n\t\t\t\twidth: 100%;\n\t\t\t\tpadding-left: 34px;\n\t\t\t}\n\n\t\t\t.loading-icon {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: calc(36px / 2 - 20px / 2);\n\t\t\t\tright: 8px;\n\t\t\t}\n\t\t}\n\n\t\t&__list {\n\t\t\tpadding: 8px;\n\t\t\theight: 500px;\n\t\t\toverflow: scroll;\n\t\t\t&__result {\n\t\t\t\tpadding: 8px;\n\t\t\t\tborder-radius: 100px;\n\t\t\t\tbox-sizing: border-box;\n\n\t\t\t\t&, & * {\n\t\t\t\t\tcursor: pointer !important;\n\t\t\t\t}\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: var(--color-background-dark);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&--empty {\n\t\t\t\tmargin: 100px 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t&__selection {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmargin-top: 8px;\n\t\tflex-grow: 1;\n\n\t\t&__item {\n\t\t\tborder-radius: var(--border-radius-pill);\n\t\t\tpadding:  0 8px;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--color-background-dark);\n\t\t\t}\n\t\t}\n\t}\n\n\t.actions {\n\t\tdisplay: flex;\n\t\tmargin-top: 8px;\n\n\t\t&__public-link {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\n\t\t&__slot {\n\t\t\tflex-grow: 1;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: flex-end;\n\t\t\talign-items: center;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const l=i},6179:(n,t,a)=>{a.d(t,{Z:()=>l});var o=a(87537),e=a.n(o),r=a(23645),i=a.n(r)()(e());i.push([n.id,":root{--photos-navigation-height: 64px;--photos-navigation-spacing: calc((var(--photos-navigation-height) - 44px) / 2)}button.app-navigation-toggle{top:0 !important;right:calc(var(--photos-navigation-height)*-1) !important;margin:var(--photos-navigation-spacing) !important}","",{version:3,sources:["webpack://./src/components/HeaderNavigation.vue"],names:[],mappings:"AAoLA,MACC,gCAAA,CAEA,+EAAA,CAID,6BAEC,gBAAA,CACA,yDAAA,CACA,kDAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n:root {\n\t--photos-navigation-height: 64px;\n\t// header height - button size\n\t--photos-navigation-spacing: calc((var(--photos-navigation-height) - 44px) / 2);\n}\n\n// Properly position the navigation toggle button\nbutton.app-navigation-toggle {\n\t// App-navigation have a 4px margin top\n\ttop: 0 !important;\n\tright: calc(var(--photos-navigation-height) * -1) !important;\n\tmargin: var(--photos-navigation-spacing) !important;\n}\n\n'],sourceRoot:""}]);const l=i},55620:(n,t,a)=>{a.d(t,{Z:()=>l});var o=a(87537),e=a.n(o),r=a(23645),i=a.n(r)()(e());i.push([n.id,".photos-navigation[data-v-84bb06ac]{position:-webkit-sticky;position:sticky;z-index:20;top:0;display:flex;align-items:center;width:100%;min-height:var(--photos-navigation-height);padding:0 var(--photos-navigation-height);background:var(--color-main-background)}.photos-navigation__back[data-v-84bb06ac]{position:absolute !important;left:0;margin:var(--photos-navigation-spacing) !important}.photos-navigation__title[data-v-84bb06ac]{max-width:50%;margin-right:calc(2*var(--photos-navigation-spacing));display:flex;flex-direction:column}.photos-navigation__title__main[data-v-84bb06ac]{margin:0;cursor:pointer}.photos-navigation__title__main[data-v-84bb06ac],.photos-navigation__title__sub[data-v-84bb06ac]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.photos-navigation__loader[data-v-84bb06ac]{margin-left:32px}.photos-navigation__content-right[data-v-84bb06ac]{display:flex;align-items:center;justify-content:center;margin-left:auto}","",{version:3,sources:["webpack://./src/components/HeaderNavigation.vue"],names:[],mappings:"AAqMA,oCACC,uBAAA,CAAA,eAAA,CACA,UAAA,CACA,KAAA,CACA,YAAA,CACA,kBAAA,CACA,UAAA,CACA,0CAAA,CACA,yCAAA,CACA,uCAAA,CAEA,0CAEC,4BAAA,CACA,MAAA,CACA,kDAAA,CAGD,2CACC,aAAA,CACA,qDAAA,CACA,YAAA,CACA,qBAAA,CAEA,iDACC,QAAA,CACA,cAAA,CAGD,iGACC,eAAA,CACA,kBAAA,CACA,sBAAA,CAIF,4CACC,gBAAA,CAGD,mDACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,gBAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.photos-navigation {\n\tposition: sticky;\n\tz-index: 20;\n\ttop: 0;\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\tmin-height: var(--photos-navigation-height);\n\tpadding: 0 var(--photos-navigation-height);\n\tbackground: var(--color-main-background);\n\n\t&__back {\n\t\t// Above the navigation menu\n\t\tposition: absolute !important;\n\t\tleft: 0;\n\t\tmargin: var(--photos-navigation-spacing) !important;\n\t}\n\n\t&__title {\n\t\tmax-width: 50%;\n\t\tmargin-right: calc(2 * var(--photos-navigation-spacing));\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&__main {\n\t\t\tmargin: 0;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&__main, &__sub {\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t}\n\n\t&__loader {\n\t\tmargin-left: 32px;\n\t}\n\n\t&__content-right {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-left: auto;\n\t}\n}\n\n'],sourceRoot:""}]);const l=i},40502:(n,t,a)=>{a.d(t,{Z:()=>e});const o={name:"PlusIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const e=(0,a(51900).Z)(o,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("span",n._b({staticClass:"material-design-icon plus-icon",attrs:{"aria-hidden":!n.title,"aria-label":n.title,role:"img"},on:{click:function(t){return n.$emit("click",t)}}},"span",n.$attrs,!1),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}},[n.title?a("title",[n._v(n._s(n.title))]):n._e()])])])}),[],!1,null,null,null).exports},75400:(n,t,a)=>{a.d(t,{Z:()=>e});const o={name:"SendIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const e=(0,a(51900).Z)(o,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("span",n._b({staticClass:"material-design-icon send-icon",attrs:{"aria-hidden":!n.title,"aria-label":n.title,role:"img"},on:{click:function(t){return n.$emit("click",t)}}},"span",n.$attrs,!1),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M2,21L23,12L2,3V10L17,12L2,14V21Z"}},[n.title?a("title",[n._v(n._s(n.title))]):n._e()])])])}),[],!1,null,null,null).exports},99954:(n,t,a)=>{a.d(t,{Z:()=>E});var o=a(20629),e=a(93050);const r={name:"AccountMultiplePlusIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var i=a(51900);const l=(0,i.Z)(r,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("span",n._b({staticClass:"material-design-icon account-multiple-plus-icon",attrs:{"aria-hidden":!n.title,"aria-label":n.title,role:"img"},on:{click:function(t){return n.$emit("click",t)}}},"span",n.$attrs,!1),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M19 17V19H7V17S7 13 13 13 19 17 19 17M16 8A3 3 0 1 0 13 11A3 3 0 0 0 16 8M19.2 13.06A5.6 5.6 0 0 1 21 17V19H24V17S24 13.55 19.2 13.06M18 5A2.91 2.91 0 0 0 17.11 5.14A5 5 0 0 1 17.11 10.86A2.91 2.91 0 0 0 18 11A3 3 0 0 0 18 5M8 10H5V7H3V10H0V12H3V15H5V12H8Z"}},[n.title?a("title",[n._v(n._s(n.title))]):n._e()])])])}),[],!1,null,null,null).exports;var s=a(75400),c=a(45994),u=a(33476),p=a(80351),m=a.n(p),A=a(38169);function d(n,t,a,o,e,r,i){try{var l=n[r](i),s=l.value}catch(n){return void a(n)}l.done?t(s):Promise.resolve(s).then(o,e)}function b(n){return function(){var t=this,a=arguments;return new Promise((function(o,e){var r=n.apply(t,a);function i(n){d(r,o,e,i,l,"next",n)}function l(n){d(r,o,e,i,l,"throw",n)}i(void 0)}))}}function g(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.push.apply(a,o)}return a}function f(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){h(n,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))}))}return n}function h(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}const C={name:"AlbumForm",components:{MapMarker:e.Z,AccountMultiplePlus:l,Send:s.Z,NcButton:u.NcButton,NcLoadingIcon:u.NcLoadingIcon,NcTextField:u.NcTextField,CollaboratorsSelectionForm:A.Z},props:{album:{type:Object,default:null},displayBackButton:{type:Boolean,default:!1}},data:function(){return{showCollaboratorView:!1,albumName:"",albumLocation:"",loading:!1}},computed:{editMode:function(){return null!==this.album},sharingEnabled:function(){return void 0!==OC.Share}},mounted:function(){var n=this;this.editMode&&(this.albumName=this.album.basename,this.albumLocation=this.album.location),this.$nextTick((function(){n.$refs.nameInput.$el.getElementsByTagName("input")[0].focus()}))},methods:f(f({},(0,o.nv)(["createAlbum","renameAlbum","updateAlbum"])),{},{submit:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];""===this.albumName||this.loading||(this.editMode?this.handleUpdateAlbum():this.handleCreateAlbum(n))},handleCreateAlbum:function(){var n=arguments,t=this;return b(regeneratorRuntime.mark((function a(){var o,e;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=n.length>0&&void 0!==n[0]?n[0]:[],a.prev=1,t.loading=!0,a.next=5,t.createAlbum({album:{basename:t.albumName,filename:"/photos/".concat((0,c.ts)().uid,"/albums/").concat(t.albumName),nbItems:0,location:t.albumLocation,lastPhoto:-1,date:m()().format("MMMM YYYY"),collaborators:o}});case 5:if(e=a.sent,""===t.albumLocation&&0===o.length){a.next=10;break}return a.next=9,t.updateAlbum({albumName:t.albumName,properties:{location:t.albumLocation,collaborators:o}});case 9:e=a.sent;case 10:t.$emit("done",{album:e});case 11:return a.prev=11,t.loading=!1,a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,,11,14]])})))()},handleUpdateAlbum:function(){var n=this;return b(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.loading=!0,a=f({},n.album),n.album.basename===n.albumName){t.next=7;break}return t.next=6,n.renameAlbum({currentAlbumName:n.album.basename,newAlbumName:n.albumName});case 6:a=t.sent;case 7:if(n.album.location===n.albumLocation){t.next=11;break}return t.next=10,n.updateAlbum({albumName:n.albumName,properties:{location:n.albumLocation}});case 10:a.location=t.sent;case 11:n.$emit("done",{album:a});case 12:return t.prev=12,n.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,,12,15]])})))()},back:function(){this.$emit("back")}})};var v=a(93379),_=a.n(v),y=a(7795),x=a.n(y),k=a(90569),w=a.n(k),N=a(3565),S=a.n(N),T=a(19216),B=a.n(T),P=a(44589),O=a.n(P),L=a(62116),D={};D.styleTagTransform=O(),D.setAttributes=S(),D.insert=w().bind(null,"head"),D.domAPI=x(),D.insertStyleElement=B();_()(L.Z,D);L.Z&&L.Z.locals&&L.Z.locals;const E=(0,i.Z)(C,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return n.showCollaboratorView?a("CollaboratorsSelectionForm",{attrs:{"album-name":n.albumName,"allow-public-link":!1},scopedSlots:n._u([{key:"default",fn:function(t){var o=t.collaborators;return[a("span",{staticClass:"left-buttons"},[a("NcButton",{attrs:{"aria-label":n.t("photos","Back to the new album form."),type:"tertiary"},on:{click:function(t){n.showCollaboratorView=!1}}},[n._v("\n\t\t\t\t"+n._s(n.t("photos","Back"))+"\n\t\t\t")])],1),n._v(" "),a("span",{staticClass:"right-buttons"},[a("NcButton",{attrs:{"aria-label":n.editMode?n.t("photos","Save."):n.t("photos","Create the album."),type:"primary",disabled:""===n.albumName.trim()||n.loading},on:{click:function(t){return n.submit(o)}},scopedSlots:n._u([{key:"icon",fn:function(){return[n.loading?a("NcLoadingIcon"):a("Send")]},proxy:!0}],null,!0)},[n._v("\n\t\t\t\t"+n._s(n.editMode?n.t("photos","Save"):n.t("photos","Create album"))+"\n\t\t\t")])],1)]}}])}):a("form",{staticClass:"album-form",on:{submit:function(t){return t.preventDefault(),n.submit.apply(null,arguments)}}},[a("div",{staticClass:"form-inputs"},[a("NcTextField",{ref:"nameInput",attrs:{value:n.albumName,type:"text",name:"name",required:!0,autofocus:"true",placeholder:n.t("photos","Name of the album")},on:{"update:value":function(t){n.albumName=t}}}),n._v(" "),a("label",[a("MapMarker"),a("NcTextField",{attrs:{value:n.albumLocation,name:"location",type:"text",placeholder:n.t("photos","Location of the album")},on:{"update:value":function(t){n.albumLocation=t}}})],1)],1),n._v(" "),a("div",{staticClass:"form-buttons"},[a("span",{staticClass:"left-buttons"},[n.displayBackButton?a("NcButton",{attrs:{"aria-label":n.t("photos","Go back to the previous view."),type:"tertiary"},on:{click:n.back}},[n._v("\n\t\t\t\t"+n._s(n.t("photos","Back"))+"\n\t\t\t")]):n._e()],1),n._v(" "),a("span",{staticClass:"right-buttons"},[n.sharingEnabled&&!n.editMode?a("NcButton",{attrs:{"aria-label":n.t("photos","Go to the add collaborators view."),type:"secondary",disabled:""===n.albumName.trim()||n.loading},on:{click:function(t){n.showCollaboratorView=!0}},scopedSlots:n._u([{key:"icon",fn:function(){return[a("AccountMultiplePlus")]},proxy:!0}],null,!1,1531126728)},[n._v("\n\t\t\t\t"+n._s(n.t("photos","Add collaborators"))+"\n\t\t\t")]):n._e(),n._v(" "),a("NcButton",{attrs:{"aria-label":n.editMode?n.t("photos","Save."):n.t("photos","Create the album."),type:"primary",disabled:""===n.albumName||n.loading},on:{click:function(t){return n.submit()}},scopedSlots:n._u([{key:"icon",fn:function(){return[n.loading?a("NcLoadingIcon"):a("Send")]},proxy:!0}],null,!1,3914512768)},[n._v("\n\t\t\t\t"+n._s(n.editMode?n.t("photos","Save"):n.t("photos","Create album"))+"\n\t\t\t")])],1)])])}),[],!1,null,"5bc188a2",null).exports},38169:(n,a,o)=>{o.d(a,{Z:()=>R});const e={name:"MagnifyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var r=o(51900);const i=(0,r.Z)(e,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("span",n._b({staticClass:"material-design-icon magnify-icon",attrs:{"aria-hidden":!n.title,"aria-label":n.title,role:"img"},on:{click:function(t){return n.$emit("click",t)}}},"span",n.$attrs,!1),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}},[n.title?a("title",[n._v(n._s(n.title))]):n._e()])])])}),[],!1,null,null,null).exports;var l=o(31894),s=o(86472);const c={name:"EarthIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const u=(0,r.Z)(c,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("span",n._b({staticClass:"material-design-icon earth-icon",attrs:{"aria-hidden":!n.title,"aria-label":n.title,role:"img"},on:{click:function(t){return n.$emit("click",t)}}},"span",n.$attrs,!1),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}},[n.title?a("title",[n._v(n._s(n.title))]):n._e()])])])}),[],!1,null,null,null).exports;var p=o(26937),m=o(82880),A=o(45994),d=o(79753),b=o(33476),g=o(59537);function f(n,t,a,o,e,r,i){try{var l=n[r](i),s=l.value}catch(n){return void a(n)}l.done?t(s):Promise.resolve(s).then(o,e)}function h(n){return function(){var t=this,a=arguments;return new Promise((function(o,e){var r=n.apply(t,a);function i(n){f(r,o,e,i,l,"next",n)}function l(n){f(r,o,e,i,l,"throw",n)}i(void 0)}))}}function C(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.push.apply(a,o)}return a}function v(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){_(n,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))}))}return n}function _(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}var y={USER:0,GROUP:1};const x={name:"CollaboratorsSelectionForm",components:{Magnify:i,Close:l.default,AccountGroup:s.Z,Earth:u,NcLoadingIcon:b.NcLoadingIcon,NcButton:b.NcButton,NcListItemIcon:b.NcListItemIcon,NcTextField:b.NcTextField,NcPopover:b.NcPopover,NcEmptyContent:b.NcEmptyContent},props:{albumName:{type:String,required:!0},collaborators:{type:Array,default:function(){return[]}},publicLink:{type:String,default:""},allowPublicLink:{type:Boolean,default:!0}},data:function(){return{searchText:"",availableCollaborators:{},selectedCollaboratorsKeys:[],currentSearchResults:[],loadingCollaborators:!1,randomId:Math.random().toString().substring(2,10),publicLinkCopied:!1,config:{minSearchStringLength:parseInt(OC.config["sharing.minSearchStringLength"],10)||0}}},computed:{searchResults:function(){var n=this;return this.currentSearchResults.filter((function(n){return n.id!==(0,A.ts)().uid})).map((function(n){var t=n.type,a=n.id;return"".concat(t,":").concat(a)})).filter((function(t){return!n.selectedCollaboratorsKeys.includes(t)})).map((function(n){return{key:n,height:48}}))},selectedCollaborators:function(){var n=this;return this.selectedCollaboratorsKeys.map((function(t){return n.availableCollaborators[t]}))}},mounted:function(){this.searchCollaborators(),this.selectedCollaboratorsKeys=this.collaborators.map((function(n){var t=n.type,a=n.id;return"".concat(t,":").concat(a)})),this.availableCollaborators=v(v({},this.availableCollaborators),this.collaborators.reduce((function(n,t){return v(v({},n),{},_({},"".concat(t.type,":").concat(t.id),t))}),{}))},methods:{searchCollaborators:function(){var n=this;return h(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(n.searchText.length<n.config.minSearchStringLength)){a.next=3;break}return a.abrupt("return");case 3:return n.loadingCollaborators=!0,a.next=6,p.Z.get((0,d.generateOcsUrl)("core/autocomplete/get"),{params:{search:n.searchText,itemType:"share-recipients",shareTypes:[y.USER,y.GROUP]}});case 6:o=a.sent,n.currentSearchResults=o.data.ocs.data.map((function(n){var t=-1;switch(n.source){case"users":t=OC.Share.SHARE_TYPE_USER;break;case"groups":t=OC.Share.SHARE_TYPE_GROUP}return v(v({},n),{},{type:t})})),n.availableCollaborators=v(v({},n.availableCollaborators),n.currentSearchResults.reduce((function(n,t){return v(v({},n),{},_({},"".concat(t.type,":").concat(t.id),t))}),{})),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),n.errorFetchingCollaborators=a.t0,g.Z.error(t("photos","Failed to fetch collaborators list."),a.t0),(0,m.showError)(t("photos","Failed to fetch collaborators list."));case 16:return a.prev=16,n.loadingCollaborators=!1,a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[0,11,16,19]])})))()},createPublicLinkForAlbum:function(){var n=this;return h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.Z.put((0,d.generateOcsUrl)("apps/photos/createPublicLink/".concat(n.albumName))));case 1:case"end":return t.stop()}}),t)})))()},deletePublicLink:function(){var n=this;return h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.Z.delete((0,d.generateOcsUrl)("apps/photos/createPublicLink/".concat(n.albumName))));case 1:case"end":return t.stop()}}),t)})))()},copyPublicLink:function(){var n=this;return h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.clipboard.writeText(n.publicLink);case 2:n.publicLinkCopied=!0,setTimeout((function(){n.publicLinkCopied=!1}),1e4);case 4:case"end":return t.stop()}}),t)})))()},selectEntity:function(n){this.selectedCollaboratorsKeys.includes(n)||(this.$refs.popover.$refs.popover.hide(),this.selectedCollaboratorsKeys.push(n))},unselectEntity:function(n){var t=this.selectedCollaboratorsKeys.indexOf(n);this.selectedCollaboratorsKeys.splice(t,1)}}};var k=o(93379),w=o.n(k),N=o(7795),S=o.n(N),T=o(90569),B=o.n(T),P=o(3565),O=o.n(P),L=o(19216),D=o.n(L),E=o(44589),j=o.n(E),Z=o(11893),M={};M.styleTagTransform=j(),M.setAttributes=O(),M.insert=B().bind(null,"head"),M.domAPI=S(),M.insertStyleElement=D();w()(Z.Z,M);Z.Z&&Z.Z.locals&&Z.Z.locals;const R=(0,r.Z)(x,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"manage-collaborators"},[a("h2",{staticClass:"manage-collaborators__title"},[n._v("\n\t\t"+n._s(n.t("photos","Add collaborators"))+"\n\t")]),n._v(" "),a("div",{staticClass:"manage-collaborators__subtitle"},[n._v("\n\t\t"+n._s(n.t("photos","Add people or groups who can edit your album"))+"\n\t")]),n._v(" "),a("form",{staticClass:"manage-collaborators__form",on:{submit:function(n){n.preventDefault()}}},[a("NcPopover",{ref:"popover",attrs:{"auto-size":!0,distance:0}},[a("label",{staticClass:"manage-collaborators__form__input",attrs:{slot:"trigger"},slot:"trigger"},[a("NcTextField",{attrs:{value:n.searchText,autocomplete:"off",type:"search",name:"search","aria-label":n.t("photos","Search for collaborators"),"aria-autocomplete":"list","aria-controls":"manage-collaborators__form__selection-"+n.randomId+" manage-collaborators__form__list-"+n.randomId,placeholder:n.t("photos","Search people or groups")},on:{"update:value":function(t){n.searchText=t},input:n.searchCollaborators}},[a("Magnify",{attrs:{size:16}})],1),n._v(" "),n.loadingCollaborators?a("NcLoadingIcon"):n._e()],1),n._v(" "),0!==n.searchResults.length?a("ul",{staticClass:"manage-collaborators__form__list",attrs:{id:"manage-collaborators__form__list-"+n.randomId}},n._l(n.searchResults,(function(t){return a("li",{key:t.key},[a("a",[a("NcListItemIcon",{staticClass:"manage-collaborators__form__list__result",attrs:{id:n.availableCollaborators[t.key].id,title:n.availableCollaborators[t.key].id,search:n.searchText,user:n.availableCollaborators[t.key].id,"display-name":n.availableCollaborators[t.key].label,"aria-label":n.t("photos","Add {collaboratorLabel} to the collaborators list",{collaboratorLabel:n.availableCollaborators[t.key].label})},on:{click:function(a){return n.selectEntity(t.key)}}})],1)])})),0):a("NcEmptyContent",{key:"emptycontent",staticClass:"manage-collaborators__form__list--empty",attrs:{title:n.t("photos","No collaborators available")}},[a("AccountGroup",{attrs:{slot:"icon"},slot:"icon"})],1)],1)],1),n._v(" "),a("ul",{staticClass:"manage-collaborators__selection"},n._l(n.selectedCollaboratorsKeys,(function(t){return a("li",{key:t,staticClass:"manage-collaborators__selection__item"},[a("NcListItemIcon",{attrs:{id:n.availableCollaborators[t].id,"display-name":n.availableCollaborators[t].label,title:n.availableCollaborators[t].id,user:n.availableCollaborators[t].id}},[a("NcButton",{attrs:{type:"tertiary","aria-label":n.t("photos","Remove {collaboratorLabel} from the collaborators list",{collaboratorLabel:n.availableCollaborators[t].label})},on:{click:function(a){return n.unselectEntity(t)}}},[a("Close",{attrs:{slot:"icon",size:20},slot:"icon"})],1)],1)],1)})),0),n._v(" "),a("div",{staticClass:"actions"},[n.allowPublicLink?a("div",{staticClass:"actions__public-link"},[n.publicLink?[a("NcButton",{staticClass:"manage-collaborators__public-link-button",on:{click:n.copyPublicLink},scopedSlots:n._u([{key:"icon",fn:function(){return[n.publicLinkCopied?a("Check"):a("ContentCopy")]},proxy:!0}],null,!1,845538853)},[n.publicLinkCopied?[n._v("\n\t\t\t\t\t\t"+n._s(n.t("photos","Public link copied!"))+"\n\t\t\t\t\t")]:[n._v("\n\t\t\t\t\t\t"+n._s(n.t("photos","Copy public link"))+"\n\t\t\t\t\t")]],2),n._v(" "),a("NcButton",{on:{click:n.deletePublicLink}},[a("Close",{attrs:{slot:"icon"},slot:"icon"})],1)]:a("NcButton",{staticClass:"manage-collaborators__public-link-button",on:{click:n.createPublicLinkForAlbum}},[a("Earth",{attrs:{slot:"icon"},slot:"icon"}),n._v("\n\t\t\t\t"+n._s(n.t("photos","Share via public link"))+"\n\t\t\t")],1)],2):n._e(),n._v(" "),a("div",{staticClass:"actions__slot"},[n._t("default",null,{collaborators:n.selectedCollaborators})],2)])])}),[],!1,null,"ad086a20",null).exports},27248:(n,a,o)=>{o.d(a,{Z:()=>x});var e=o(76240),r=o(33476);const i={name:"HeaderNavigation",components:{ArrowLeft:e.default,NcButton:r.NcButton,NcLoadingIcon:r.NcLoadingIcon},inheritAttrs:!1,props:{loading:{type:Boolean,default:!1},path:{type:String,default:"/"},title:{type:String,required:!0},rootTitle:{type:String,default:t("photos","Photos")},params:{type:Object,default:null}},computed:{isRoot:function(){var n="/"===this.path;return this.toggleNavigationButton(!n),n},name:function(){return this.isRoot?this.rootTitle:this.title},parentPath:function(){var n=this.path.split("/");n.pop();var t=n.join("/");return this.isRoot||""===t.trim()?"/":n.join("/")},parentName:function(){return this.parentPath&&this.parentPath.split("/").pop()},backToText:function(){return"/"===this.parentPath?t("photos","Back to {folder}",{folder:this.rootTitle}):t("photos","Back to {folder}",{folder:this.parentName})},to:function(){var n=/^\/?(.*)/i.exec(this.parentPath)[1],t=Object.assign({},this.$route,{params:this.params||{path:n}}),a=t.name,o=t.params;return""===n?{name:a}:decodeURIComponent(this.$router.resolve({name:a,params:o}).resolved.path)}},methods:{folderUp:function(){this.$router.push(this.to)},refresh:function(){this.$emit("refresh")},toggleNavigationButton:function(n){document.querySelector("button.app-navigation-toggle").style.display=n?"none":null}}};var l=o(93379),s=o.n(l),c=o(7795),u=o.n(c),p=o(90569),m=o.n(p),A=o(3565),d=o.n(A),b=o(19216),g=o.n(b),f=o(44589),h=o.n(f),C=o(6179),v={};v.styleTagTransform=h(),v.setAttributes=d(),v.insert=m().bind(null,"head"),v.domAPI=u(),v.insertStyleElement=g();s()(C.Z,v);C.Z&&C.Z.locals&&C.Z.locals;var _=o(55620),y={};y.styleTagTransform=h(),y.setAttributes=d(),y.insert=m().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=g();s()(_.Z,y);_.Z&&_.Z.locals&&_.Z.locals;const x=(0,o(51900).Z)(i,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"photos-navigation",class:{"photos-navigation--root":n.isRoot},attrs:{role:"toolbar"}},[n.isRoot?n._e():a("NcButton",{staticClass:"photos-navigation__back",attrs:{type:"tertiary"},on:{click:n.folderUp},scopedSlots:n._u([{key:"icon",fn:function(){return[a("ArrowLeft",{attrs:{size:20}})]},proxy:!0}],null,!1,1821202730)}),n._v(" "),a("div",{staticClass:"photos-navigation__title"},[a("h2",{staticClass:"photos-navigation__title__main",on:{click:n.refresh}},[n._v("\n\t\t\t"+n._s(n.name)+"\n\t\t")]),n._v(" "),a("div",{staticClass:"photos-navigation__title__sub"}),n._v(" "),n._t("subtitle")],2),n._v(" "),n.$slots.default?a("div",{staticClass:"photos-navigation__content"},[n._t("default")],2):n._e(),n._v(" "),a("NcLoadingIcon",{directives:[{name:"show",rawName:"v-show",value:n.loading,expression:"loading"}],staticClass:"photos-navigation__loader"}),n._v(" "),a("div",{staticClass:"photos-navigation__content-right"},[n._t("right")],2)],1)}),[],!1,null,"84bb06ac",null).exports}}]);
//# sourceMappingURL=photos-src_mixins_FetchAlbumsMixin_js-node_modules_vue-material-design-icons_Plus_vue-src_components-b06a7d.js.map?v=580257b47ad03ba47ef3